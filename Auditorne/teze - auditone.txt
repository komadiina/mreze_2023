*** [A02] Modeli komunikacije - primjeri ***
? mac adresa paketa se mijenja putujuci kroz rutu do odredista?
web server == HTTP protokol

1. Na osnovu uhvacenog frejma i datih predstava Ethernet frejma, IP paketa i TCP segmenta, odgovoriti na sledeca pitanja.
(Napomena: Frejm je primljen na ruteru, tako da su preambula i SFD odbaceni)
	a. Koje su Source i Destination MAC adrese?
		-> Source: 08-00-20-f7-88-7d
		-> Destination: 00-11-43-b7-92-43
	b. Koje su source i destination IP adrese (decimal) ?
		-> Source: 0x83f7032a = 131.247.3.42
		-> Destination: 83f70301 = 131.247.3.1
	c. Koji su TCP source i destination portovi (decimal) ?
		-> Source: 0x0868 = 2152
		-> Destination: 0x0050 = 80
	d. Koji su flegovi postavljeni u segmentu?
		-> {ACK, PSH} = 1, resto = 0
	e. Kolika je procentualna kolicina korisnih informacija u frejmu?
		-> FCS = 4B, na apl. sloju (TCP segment) = 38 bajtova
		ukupno = 96 => 38/96 = 39.6%
	

(frejm dat na prezentaciji, primjer 2)


0x
	83 = 1000 0011 = 131
	f7 = 1111 0111 = 247
	03 = 0000 0011 = 3
	2a = 0010 1010 = 42

- zasto se ignorise Options polje (3 bajta) u IP paketu?

0x0868 = 8 + 6*16 + 8*16*16 = 2152
0x0050 = 5 * 16 = 80

- poslije 6. bajta se odredjuju flegovi (4b header len, 6b reserved, 6b flags)
50 18 
0101 0000 0001 1000
	=> 	0	1	1	0	0	0
		URG	ACK	PSH	RST	SYN	FIN	


*** [03] Svicevi - zadaci ***
- uradjeno na predavanjima

*** [04] IPv4 ***
1. Odrediti mreznu adresu hosta 124.199.7.18/28
32 - 28 = 4 bita za hostove
.18 = 16 + 2 = 0001 0010 => 124.199.7.16/28

2. Odrediti broadcast adresu mreze na kojoj je host 
	186.23.250.46/27
32 - 27 = 5, 2^5 = 32
186.23.250.46 => 46 = 32 + 8 + 4 + 2
186.23.250.32/27 = mrezna adresa
32 + 32 = 64 -> sledeca mrezna adresa, .63 = broadcast adresa

BROADCAST(186.23.250.46/27) = 186.23.250.63
ili samo u host dijelu stavimo sve jedinice

3. Odrediti opseg korisnih adresa mreze na kojoj je host
	160.254.101.167/27
32 - 27 = 2^5, 2^5 - 2 = 30
160.254.101. 	[128 + 32 + 4 + 2 + 1]/27
		[101|0 0111] => .160+1 -:- .191-1
opseg:	160.254.101.161 -:- 160.254.101.190

4. Koja je optimalna subnet maska za mrezu sa 55 korisnika?
2^6 - 2 = 62 >= 55
32 - 6 = 26 => zadnji oktet = 1100 0000 = 192
===> 255.255.255.192

5. Adresa interfejsa rutera na kojeg je prikljucena mreza je 172.16.12.33/27. Koje od navedenih adresa mogu da se dodijele hostovima na LAN-u?

/28 maska ne ulazi u razmatranje

172.16.12.33/27
Subnet: 255.255.255.224
zadnji oktet .33 = 32 + 1 = 001|0 0001
0011 1111 = 15 + 16 = 31
.32 -:- .32+31 = .63
172.16.12.33/27 -:- 172.16.12.62/27
.33 vec dodijeljena, -> .34 -:- .62

6. Na prikazanom dijagramu interfejsima rutera su dodijeljene prve adrese iz odgovarajuce mreze. Koja od sledecih adresa predstavlja adresu koja se moze dodijeliti hostu na nekoj od mreza? Obrazloziti netacne odgovore.
	192.168.1.5/30 -> ne moze, vec je dodijeljena na interfejsu 			rutera
	192.168.2.17/28 -> ne moze, vec je dodijeljena na 				interfejsu rutera
	192.168.2.63/27 -> ne moze, .63 je broadcast za mrezu 				192.168.2.0/27
	192.168.2.130/25 -> moze, .129 je prva dodijeljena, .130 = slobodna


192.168.1.4/30
192.168.1.0000 01|00, .5 = 0000 01 01

192.168.2.16/28
192.168.2.0001 | 0000, .17 = 0001 0001 

192.168.2.63/27
192.168.2.000|1 1111 = broadcast adresa za 192.168.2.0/27


192.168.2.130/25
192.168.2.128/25 mrezna
.129 prva adresa = dodijelena, .130 = slobodna OK


***=====================================================*** 
default route 0.0.0.0 = rezervisan cijeli blok 0.0.0.0/8
loopback 127.0.0.1 = rezervisan cijeli blok 127.0.0.0/8
link-local 169.254.0.0/16 
eksperimentalne 240.0.0.0/4 (240.x.x.x -:- 255.x.x.x)
multicast, eksperimentalne
-----------------------------------------------------------
blokovi privatnih adresa:
10.0.0.0 - 10.255.255.255 => 10.0.0.0/8
172.16.0.0 - 172.31.255.255 => 172.16.0.0/12
192.168.0.0 - 192.168.255.255 = 192.168.0.0/16
***=====================================================***

7. Koje od sledecih adresa mogu da se dodijele hostovima na internetu? Obrazloziti svaku opciju, bilo da je tacna ili ne.
	a. 172.32.12.12/30
	+ ne ulazi u privatni adresni blok 172.16.0.0/12 
	- .12/30 => 2 bita za hostove, .12 = 11[00] - MREZNA ADRESA
	-> ne moze

	b. 11.0.0.255/8
	+ ne ulazi u PAB 10.0.0.0/8
	+ slobodna host adresa .0.0.255 = OK
	-> moze

	c. 244.12.16.1/24
	- ulazi u opseg 240.0.0.0/4 (eksperimentalne adrese)
	-> ne moze

	d. 169.253.301.22/24
	- .301 ?? nemoguce dobiti > 255 sa 8 bita
	- nevazeca adresa
	-> ne moze

	e. 127.127.127.127/16
	- ulazi u opseg loopback adresnog bloka 127.0.0.0/8
	-> ne moze

	f. 1.1.0.0/12
	+ ne ulazi u nijedan rezervisan opseg
	-> moze


*** [05] Rutiranje ***
209.165.200.250/24 = 209.165.200.0/24 255.255.255.0
R: 209.165.200.0 255.255.255.0 via S0/0/0 / 209.165.100.200

-- SWITCH NE ENKAPSULIRA FREJMOVE
- ako sa javnog adresnog prostora (interneta) zelimo da pozivamo servise (npr. web stranice) privatne adrese, na rubnom ruteru te privatne mreze (npr. 192.168.x.x) mora biti konfigursan NAT (Network Address Translation) protokol

	
*** [06] VLSM i sumarizacija ***
2. Na tri serijska linka sa slike su upotrijebljene mreze sa maskom 255.255.255.224. Koliko je ukupno adresa upropasteno na ova tri linka, zajedno?

255.255.255.224 => /27 (128 + 64 + 32)
32 - 27 = 2^5 = 32, 32 - 2 = 30 hostova po mrezi
(30 - Link1 - Link2) * 3 = 28 * 3 = 84 hostova upropasteno

